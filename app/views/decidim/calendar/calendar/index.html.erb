<% add_decidim_page_title(t("calendar.index.title", scope: "decidim")) %>

<%= stylesheet_pack_tag "decidim_calendar" %>
<%= render "calendar_css" %>

<%= participatory_space_wrapper do %>
  <div class="row columns">
    <div class="calendar-filters button-group">
      <% available_events.each do |_key,item| %>
        <button class="button tiny cal-filter <%= item[:id] %>" id="<%= item[:id] %>"><%= I18n.t(item[:id], scope: "decidim.calendar.index.filters") %></button>
      <% end %>
    </div>
    <%= content_tag :div, "", id: "calendar", data: {
        locale: I18n.locale,
        events: render_events(@events),
        views: Decidim::Calendar.calendar_options[:views],
        hour12: Decidim::Calendar.calendar_options[:hour12],
        firstday: Decidim::Calendar.calendar_options[:firstDay],
        defaultview: Decidim::Calendar.calendar_options[:defaultView],
        openinnewwindow: Decidim::Calendar.calendar_options[:openInNewWindow]
      } %>
  </div>
<% end %>

<%= javascript_pack_tag "decidim_calendar" %>
